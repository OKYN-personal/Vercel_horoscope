# PDF出力機能 要件定義書

## 1. 目的

ユーザーに特定のPDFファイル（`horoscope_1978-05-16.pdf` および `horoscope_result.pdf`）を提供し、ダウンロード可能にすることを目的とします。

## 2. 機能要件

### 2.1 PDFファイルの特定と準備
-   アプリケーションは、提供する2つのPDFファイル (`horoscope_1978-05-16.pdf` と `horoscope_result.pdf`) を事前に保持している必要があります。
-   これらのファイルは、アプリケーションの特定ディレクトリ（例: `static/pdf` や `data/pdf`）に配置されることを想定します。

### 2.2 PDFダウンロードインターフェース
-   ユーザーが各PDFファイルを個別にダウンロードできるようなインターフェースを提供します。
-   具体的には、アプリケーションのウェブページ上に、各PDFファイルへのダウンロードリンクまたはボタンを設置します。
    -   リンク/ボタンのテキストは、ファイルの内容がわかるものとします（例: 「ホロスコープサンプル (1978-05-16) をダウンロード」、「ホロスコープ結果サンプルをダウンロード」）。

### 2.3 ダウンロード処理
-   ユーザーがダウンロードリンク/ボタンをクリックした際に、該当するPDFファイルがユーザーのローカル環境にダウンロードされるようにします。
-   適切なHTTPヘッダー（`Content-Disposition: attachment; filename="<ファイル名>"` など）を設定し、ブラウザがファイルを直接表示するのではなく、ダウンロードダイアログを表示するようにします。

## 3. 非機能要件

-   **アクセシビリティ:** ダウンロードリンク/ボタンは、スクリーンリーダーなどの支援技術でも容易にアクセス・操作可能であること。
-   **ユーザビリティ:** ユーザーが直感的にPDFをダウンロードできる、分かりやすいインターフェースであること。
-   **セキュリティ:** 提供するPDFファイルが改ざんされないように、適切なアクセス管理や配置を行うこと（サーバーサイドでの考慮）。
-   **エラーハンドリング:** 万が一、PDFファイルが見つからない場合に、ユーザーに適切なメッセージ（例: 「ファイルが見つかりませんでした」）を表示すること。

## 4. スコープ外（今回の実装では含めない）

-   PDFファイルの動的な生成（例: ユーザー入力に基づいてホロスコープを計算し、その結果をPDFとして出力する機能）。
-   PDFファイルのプレビュー機能。
-   PDFファイルの内容に関する詳細な説明表示（ファイル名以上の情報提供）。
-   複数PDFの一括ダウンロード機能。
-   ユーザー認証やアクセス制限。 