# アプリケーション改善定義書・開発チェックリスト

## 1. 目的

現行のホロスコープ計算アプリケーションに対し、機能追加や改善を行い、ユーザーにとってより価値の高い、多機能な占星術ツールへと発展させる。

## 2. 今後の機能拡張案（アイデアリスト）

以下に考えられる機能拡張案を列挙する。

- **[案1] 感受点の追加:**
    - ドラゴンヘッド/テイル、リリス、キロンなどの感受点を計算・表示に追加する。
    - メリット: より詳細で多角的なホロスコープ分析が可能になる。
    - 検討事項: 計算ロジックの追加、表示スペースの確保。
- **[案2] 小惑星の追加:**
    - セレス、パラス、ジュノー、ベスタなどの主要な小惑星を追加する。
    - メリット: 特定のテーマ（女性性、知性、関係性など）に関する洞察を深める。
    - 検討事項: 計算対象の増加、表示の複雑化。
- **[案3] 詳細なアスペクト解釈:**
    - 天体間の組み合わせによるアスペクトの意味を具体的に解説する。
    - マイナーアスペクト（インコンジャンクト、セミセクスタイル等）の計算と表示、解釈を追加する。
    - メリット: 読み解きの質が大幅に向上する。
    - 検討事項: 解釈パターンの網羅、解釈文の準備、表示方法。
- **[案4] ハウスシステムの選択:**
    - Placidusに加え、Koch, Campanus, Regiomontanusなどのハウスシステムを選択可能にする。
    - メリット: ユーザーが慣れ親しんだ、または好みのシステムで計算できる。
    - 検討事項: UIでの選択肢追加、各システムに対応した計算処理。
- **[案5] 未来予測機能 (進行/経過):**
    - 特定の日時における進行（プログレッション）または経過（トランジット）チャートを計算・表示する。
    - 出生図との二重円表示などを行う。
    - メリット: 未来の傾向やタイミングを読む機能を追加できる。
    - 検討事項: 計算ロジックの複雑化、UI/UX設計（日付指定、表示方法）。
- **[案6] 相性診断機能 (シナストリー/コンポジット):**
    - 二人分の出生データを入力し、相性チャート（シナストリーまたはコンポジット）を計算・表示する。
    - 二人の間のアスペクトなどを分析・表示する。
    - メリット: 人間関係の分析という新たな用途を提供できる。
    - 検討事項: 入力フォームの変更、複数チャートの計算・表示ロジック。
- **[案7] データ管理機能 (保存/読込/アカウント):**
    - 計算結果をサーバーまたはローカルに保存し、後で読み込めるようにする。
    - ユーザーアカウントを作成し、個人のデータを管理できるようにする。
    - メリット: 利便性の向上、継続的な利用促進。
    - 検討事項: データベースの導入、認証システム、セキュリティ。
- **[案8] 出力機能 (PDF/画像):**
    - 表示されているホロスコープチャートやデータをPDFまたは画像ファイルとしてダウンロードできるようにする。
    - メリット: 結果の共有や保存が容易になる。
    - 検討事項: PDF/画像生成ライブラリの導入、レイアウト調整。
- **[案9] UI/UXのさらなる改善:**
    - チャートのデザイン刷新（テーマ変更、配色カスタマイズなど）。
    - チャート要素のインタラクティブ化（クリックで詳細表示、表示要素の選択など）。
    - レスポンシブデザインの強化（スマートフォンでの表示最適化）。
    - メリット: 見た目の魅力向上、操作性の改善。
    - 検討事項: デザインスキル、JavaScriptによる実装。
- **[案10] NLGモデルによる高度な解釈:**
    - `nlg_interpretation_design.md` に基づき、自然言語生成モデルAPIを利用した解釈文生成を実装する。
    - メリット: より自然で質の高い、統合的な解釈を提供できる。
    - 検討事項: APIコスト、レスポンス時間、プロンプトエンジニアリング。

## 3. 実装計画と優先順位付け

上記アイデアリストの中から、実装する機能とその優先順位を決定する。
（例）
- 優先度 高: [案3] 詳細なアスペクト解釈, [案9] UI/UX改善 (スマホ対応強化)
- 優先度 中: [案1] 感受点の追加, [案7] ホロスコープデータの保存（ローカル）
- 優先度 低: [案5] 未来予測機能, [案6] 相性診断機能

## 4. 開発チェックリスト (選択した機能ごとに作成)

--- 
**機能名:** (例: [案3] 詳細なアスペクト解釈)

- **[ ] 1. 要件定義:**
    - [ ] どの天体間のどのアスペクトについて解釈を提供するか定義する。
    - [ ] 解釈文のトーンや詳細度を決定する。
    - [ ] 表示方法（例: アスペクトリストに追記、別セクション表示）を決定する。
- **[ ] 2. 設計:**
    - [ ] 解釈文のデータ構造（例: 辞書、データベース）を設計する。
    - [ ] `utils.py` に解釈文を取得・整形する関数を設計する。
    - [ ] `result.html` での表示レイアウトを設計する。
- **[ ] 3. 実装 (バックエンド):**
    - [ ] 解釈文データを準備・格納する。
    - [ ] `utils.py` に解釈文取得ロジックを実装する。
    - [ ] `app.py` で必要なデータをテンプレートに渡す。
- **[ ] 4. 実装 (フロントエンド):**
    - [ ] `result.html` に解釈文を表示するコードを追加・修正する。
    - [ ] 必要に応じて `style.css` を調整する。
- **[ ] 5. テスト:**
    - [ ] 様々なホロスコープで解釈が正しく表示されるか確認する。
    - [ ] 特定のアスペクトが存在しない場合にエラーにならないか確認する。
    - [ ] 表示崩れがないか確認する。
- **[ ] 6. ドキュメント:**
    - [ ] (必要であれば) 機能に関する簡単な説明を追記する。
    - [ ] コード内のコメントを整備する。

--- 
**(他の選択した機能についても同様のチェックリストを作成)** 